(window["webpackJsonpfurbook-frontend"]=window["webpackJsonpfurbook-frontend"]||[]).push([[0],{41:function(e,t,n){e.exports=n(70)},46:function(e,t,n){},47:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),s=n.n(o),c=(n(46),n(1)),i=n(3),l=n(2),p=n(4),u=(n(47),n(18)),m=n(9),d=n(5),h=function(){return function(e){return e({type:"GET_PROFILE_REQUEST_START"}),fetch("http://furbook-api.herokuapp.com/profile",{headers:{Authorization:localStorage.token}}).then(function(e){if(401===e.status)throw new Error("Unauthorized");return e}).then(function(e){return e.json()}).then(function(e){if("Please log in"===e.message)throw new Error("Unauthorized");return e}).then(function(t){e({type:"GET_PROFILE_REQUEST_SUCCESS",user:t})}).catch(function(t){"Unauthorized"===t.message&&e({type:"GET_PROFILE_REQUEST_FAILURE",error:t})})}},f=function(e,t){return function(n){return n({type:"LOGIN_REQUEST_START"}),fetch("http://furbook-api.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:e,password:t})}).then(function(e){return e.json()}).then(function(e){localStorage.token=e.token,n({type:"LOGIN_REQUEST_SUCCESS"})}).catch(function(e){n({type:"LOGIN_REQUEST_FAILURE",error:e})})}};function g(e){var t=function(t){function n(){return Object(c.a)(this,n),Object(i.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(p.a)(n,t),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;localStorage.token;try{this.props.setCurrentUser().catch(function(t){console.log("try"),e.props.history.push("/myProfile")})}catch(t){"Please log in"===t.message&&(console.log("catch"),this.props.history.push("/login"))}}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({loggedIn:this.props.loggedIn},this.props))}}]),n}(r.a.Component),n={setCurrentUser:h};return Object(u.f)(Object(d.b)(function(e){return{loggedIn:e.loggedIn}},n)(t))}var b=n(6),E=function(e){return function(t){fetch("http://furbook-api.herokuapp.com/users/".concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_USER",payload:e})})}},O=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={user:{}},n.render=function(){var e=new Date(n.props.comment.created_at);return e=(e=(e=e.toString()).split(" "))[0]+" "+e[1]+" "+e[2]+" "+e[3],Object.keys(n.state.user).length?r.a.createElement("li",{className:"comment-content views"},r.a.createElement("div",{className:"comment-content comment-div"},r.a.createElement("div",{className:"icon-date"},r.a.createElement(b.c,{className:"comment-link",to:"/users/".concat(n.state.user.id)},r.a.createElement("div",{className:"icon-img-text"},n.props.comment.user.pro_pic_url.length?r.a.createElement("img",{className:"icon-img",src:n.props.comment.user.pro_pic_url.splice(-1)[0].url}):r.a.createElement("img",{className:"icon-img",src:"https://image.flaticon.com/icons/png/512/17/17479.png"}),r.a.createElement("div",{className:"comment-icon"},n.state.user.username))),r.a.createElement("div",{className:"comment-date"},e.toString())),r.a.createElement("div",{className:"comment-text"},n.props.comment.content))):null},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://furbook-api.herokuapp.com/users/".concat(this.props.comment.user_id),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(t){return e.setState({user:t})})}}]),t}(r.a.Component),v=Object(d.b)()(O),j=n(8),y=function(e,t,n){return function(a){fetch("http://furbook-api.herokuapp.com/comments",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token},body:JSON.stringify({user_id:t,post_id:n,content:e})}).then(function(e){return e.json()}).then(function(e){a({type:"CREATE_COMMENT",payload:e})})}},C=function(){return function(e){fetch("http://furbook-api.herokuapp.com/comments",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_MY_COMMENTS",payload:t})})}},S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={commentContent:""},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){if(e.preventDefault(),void 0!==n.props.postInfo){n.props.dispatch(y(n.state.commentContent,n.props.user.id,n.props.postInfo.id)),n.setState({commentContent:""});var t=document.querySelector(".comment-container");t&&(t.scrollTop=t.scrollHeight)}},n.render=function(){return r.a.createElement("form",{className:"commentForm",onSubmit:n.handleSubmit},r.a.createElement("h3",null,"Write a comment"),r.a.createElement("div",{className:"commentInputs"},r.a.createElement("textarea",{className:"commentInput",type:"text",placeholder:"Leave a comment...",value:n.state.commentContent,onChange:n.handleChange,name:"commentContent"}),r.a.createElement("input",{className:"commentSubmit",type:"submit",value:"Comment"})))},n}return Object(p.a)(t,e),t}(r.a.Component),N=g(Object(d.b)(function(e){return{comments:e.commentReducer.comments,user:e.currentUser,posts:e.postReducer.posts}})(Object(u.f)(S))),k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={username:""},n.render=function(){var e=document.querySelector(".comment-container");e&&(e.scrollTop=e.scrollHeight);var t=n.props.comments.filter(function(e){return e.post_id===n.props.info.id});return r.a.createElement("div",{className:"all-comments"},r.a.createElement("div",{className:"comment-container"},t.length?t.map(function(e){return r.a.createElement(v,{comment:e})}):r.a.createElement("div",{className:"no-comments"},"There are no comments...")))},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getComments()}}]),t}(r.a.Component),w={getComments:C},_=g(Object(d.b)(function(e){return{user:e.currentUser,comments:e.commentReducer.comments}},w)(Object(u.f)(k))),P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={commentsClicked:!1,commentsLength:0},n.handleCommentsClick=function(){n.setState({commentsClicked:!n.state.commentsClicked})},n.commentsLength=function(e){n.setState({commentsLength:e})},n.commentCreated=function(){n.props.getComments()},n.render=function(){var e=n.props.comments.filter(function(e){return e.post_id===n.props.post.id}),t=new Date(n.props.post.created_at);return t=(t=(t=t.toString()).split(" "))[0]+" "+t[1]+" "+t[2]+" "+t[3],r.a.createElement("div",{className:"post-content"},r.a.createElement("div",{className:"post-div"},r.a.createElement("div",{className:"icon-date"},r.a.createElement("div",{className:"icon-img-text"},r.a.createElement(b.c,{to:"/users/".concat(n.props.post.user.id)},r.a.createElement("div",{className:"icon-img-text"},n.props.post.user.pro_pic_url.length?r.a.createElement("img",{className:"icon-img",src:n.props.post.user.pro_pic_url.slice(-1)[0].url}):r.a.createElement("img",{className:"icon-img",src:"https://image.flaticon.com/icons/png/512/17/17479.png"}),r.a.createElement("div",{className:"icon"},n.props.post.user.username)))),r.a.createElement("div",{className:"date"},t.toString())),r.a.createElement("div",{className:"content"},n.props.post.content),n.state.commentsClicked?r.a.createElement("div",{className:"comments-container"},r.a.createElement("a",{className:"comment-tag",onClick:n.handleCommentsClick},"comments (",e.length,")"),r.a.createElement(_,{commentsLength:n.commentsLength,postComments:n.props.comments,info:n.props.post})):r.a.createElement("a",{className:"comment-tag",onClick:n.handleCommentsClick},"comments (",e.length,")"),r.a.createElement("div",{className:"createComment"},r.a.createElement(N,{commentCreated:n.commentCreated,postInfo:n.props.post}))))},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getComments(),fetch("http://furbook-api.herokuapp.com/users/".concat(this.props.post.user_id),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(t){return e.setState({postUser:t})})}}]),t}(r.a.Component),U={getComments:C},T=g(Object(d.b)(function(e){return{user:e.currentUser,comments:e.commentReducer.comments}},U)(Object(u.f)(P))),A=function(e,t){return function(n){fetch("http://furbook-api.herokuapp.com/posts",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token},body:JSON.stringify({user_id:t,content:e})}).then(function(e){return e.json()}).then(function(e){n({type:"CREATE_POST",payload:e})})}},I=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={postContent:""},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.dispatch(A(n.state.postContent,n.props.user.id)),n.setState({postContent:""})},n.render=function(){return r.a.createElement("form",{className:"create-post-form",onSubmit:n.handleSubmit},r.a.createElement("h2",{className:"createAPost"},"create a post"),r.a.createElement("div",{className:"postInputs"},r.a.createElement("textarea",{className:"postInput",type:"text",placeholder:"What's on your mind?",value:n.state.postContent,onChange:n.handleChange,name:"postContent"}),r.a.createElement("input",{className:"postSubmit",type:"submit",value:"Post"})))},n}return Object(p.a)(t,e),t}(r.a.Component),M=g(Object(d.b)(function(e){return{user:e.currentUser,comments:e.commentReducer.comments,posts:e.postReducer.posts}})(Object(u.f)(I))),R=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return n.props.user.id?r.a.createElement("div",{className:"HomePage"},r.a.createElement("h1",{className:"Hi"}," ",n.props.user.id?"Here is your feed ".concat(n.props.user.username,"!"):"Getting your profile..."),r.a.createElement("div",{className:"post-form-container"},r.a.createElement("div",{className:"postForm"},r.a.createElement(M,{postCreated:n.postCreated,user:n.props.user}))),r.a.createElement("div",{className:"posts-container"},r.a.createElement("div",{className:"posts"},n.props.posts&&n.props.user.id?n.props.posts.map(function(e){return r.a.createElement(T,{post:e,comments:e.comments})}):"Getting your feed..."))):null},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){!localStorage.token&&this.props.hasOwnProperty("history")&&this.props.history.push("/"),this.props.getPosts()}}]),t}(r.a.Component),D={setCurrentUser:h,getPosts:function(){return function(e){fetch("http://furbook-api.herokuapp.com/posts",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_MY_POSTS",payload:t})})}}},x=g(Object(d.b)(function(e){return{user:e.currentUser,posts:e.postReducer.posts}},D)(Object(u.f)(R))),F=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return console.log(n.props.user),r.a.createElement("div",{className:"user-found"},r.a.createElement(b.c,{className:"user-found-name",onClick:function(){return n.props.handleExit()},to:"/users/".concat(n.props.user.id)},n.props.user.pro_pics.length?r.a.createElement("img",{className:"search-icon-img",src:n.props.user.pro_pics.slice(-1)[0].picture.url}):r.a.createElement("img",{className:"search-icon-img",src:"https://image.flaticon.com/icons/png/512/17/17479.png"}),n.props.user.username))},n}return Object(p.a)(t,e),t}(r.a.Component),L=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"search-modal-content"},r.a.createElement("span",{className:"close",onClick:function(){return n.props.handleExit()}},"x"),r.a.createElement("h2",null," search results: "),n.props.users.length?n.props.users.map(function(e){return r.a.createElement(F,{user:e,handleExit:n.props.handleExit})}):r.a.createElement("div",{className:"no-user-found"}," No users found... "))},n}return Object(p.a)(t,e),t}(r.a.Component),q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={search:"",users:[]},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value));var t=n.props.users.filter(function(e){return e.username.toLowerCase().includes(n.state.search.toLowerCase())});n.setState({users:t})},n.handleSubmit=function(e){e.preventDefault()},n.componentDidMount=function(){n.props.getUsers()},n.handleExit=function(){n.setState({search:"",users:[]})},n.render=function(){return r.a.createElement("div",{className:"user-search-bar"},r.a.createElement("form",{className:"search-user-form",onSubmit:n.handleSubmit},r.a.createElement("div",{className:"search-inputs"},r.a.createElement("textarea",{className:"search-user",type:"text",placeholder:"Find your friends...",value:n.state.postContent,onChange:n.handleChange,name:"search"}),r.a.createElement("input",{className:"submit-search-user",type:"submit",value:"search"}),n.state.search?r.a.createElement("div",{className:"search-modal"},r.a.createElement(L,{users:n.state.users,handleExit:n.handleExit})):null)))},n}return Object(p.a)(t,e),t}(r.a.Component),z={getUsers:function(){return function(e){fetch("http://furbook-api.herokuapp.com/users",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_USERS",payload:t})})}}},H=Object(d.b)(function(e){return{user:e.currentUser,users:e.usersReducer.users}},z)(q),G=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return n.props.user.id?r.a.createElement("div",{className:"notfication-alert"},r.a.createElement(b.c,{to:"/users/".concat(n.props.user.id),onClick:function(){return n.props.handleExitNotifications()}},n.props.user.username," wants to be friends. Click here to checkout ",n.props.user.username,"'s page.")):null},n}return Object(p.a)(t,e),t}(r.a.Component),J=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"notfications-modal-content"},r.a.createElement("span",{className:"close",onClick:function(){return n.props.handleExitNotifications()}},"x"),r.a.createElement("h2",null," Your Notifications: "),n.props.requests.length?n.props.requests.map(function(e){return r.a.createElement(G,{user:e.user,handleExitNotifications:n.props.handleExitNotifications})}):r.a.createElement("div",{className:"no-notifications-found"}," No notifications... "))},n}return Object(p.a)(t,e),t}(r.a.Component),Q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).onLogout=function(){n.props.logOut()},n.goToProfile=function(){},n.state={notificationsClicked:!1},n.handleNotifClick=function(){n.setState({notificationsClicked:!n.state.notificationsClicked})},n.handleExitNotifications=function(){n.setState({notificationsClicked:!1})},n.render=function(){return"undefined"===localStorage.token&&(alert("Invalid login"),n.props.logOut()),!localStorage.token&&n.props.hasOwnProperty("history")&&n.props.history.push("/"),n.props.user.id?r.a.createElement("div",{className:"dropdownmenu"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h2",null,"furbook")),r.a.createElement("li",null,r.a.createElement(H,null)),r.a.createElement("li",null,r.a.createElement(b.c,{to:"/home"},"Feed")),r.a.createElement("li",null,r.a.createElement(b.c,{to:"/users/".concat(n.props.user.id)},"Profile")),r.a.createElement("li",null,r.a.createElement("a",{className:"notif",onClick:n.handleNotifClick},"Notifications (",n.props.user.pending_friend_requests.length,")")),r.a.createElement("li",{onClick:n.onLogout},r.a.createElement(b.c,{to:"/login"},"Logout"))),n.state.notificationsClicked?r.a.createElement("div",{className:"notifications-modal"},r.a.createElement(J,{handleExitNotifications:n.handleExitNotifications,requests:n.props.user.pending_friend_requests})):null):null},n}return Object(p.a)(t,e),t}(r.a.Component),B={logOut:function(){return function(e){window.location.reload(),localStorage.clear(),e({type:"LOGOUT"})}}},W=Object(d.b)(function(e){return{user:e.currentUser}},B)(Q),Y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:""},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.componentDidMount=function(){localStorage.token&&n.props.history.push("/home")},n.handleSubmit=function(e){e.preventDefault(),n.props.logIn(n.state.username,n.state.password).then(function(){n.props.history.push("/home")})},n.render=function(){return r.a.createElement("div",{className:"LoginPage"},r.a.createElement("div",{className:"form-container sign-in-container"},r.a.createElement("form",{className:"loginForm",onSubmit:n.handleSubmit},r.a.createElement("h1",null,"Sign in"),r.a.createElement("input",{className:"loginInput",type:"text",placeholder:"Username",value:n.state.username,onChange:n.handleChange,name:"username"}),r.a.createElement("input",{className:"loginInput",type:"password",placeholder:"Password",value:n.state.password,onChange:n.handleChange,name:"password"}),r.a.createElement("input",{className:"loginSubmit",type:"submit",value:"Login"}))),r.a.createElement("div",{className:"overlay-container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlay-panel overlay-left"},r.a.createElement("h1",null,"Welcome Back!"),r.a.createElement("p",null,"To keep connected with us please login with your personal info"),r.a.createElement("button",{className:"ghost",id:"signIn"},"Sign In")),r.a.createElement("div",{className:"overlay-panel overlay-right"},r.a.createElement("h1",null,"Hello, Friend!"),r.a.createElement("p",null,"Enter your personal details and start your journey with us"),r.a.createElement(b.c,{to:"/signup"},r.a.createElement("button",{className:"ghost",id:"signUp"},"Sign Up"))))))},n}return Object(p.a)(t,e),t}(r.a.Component),X={logIn:f},V=Object(d.b)(function(e){return{user:e.currentUser}},X)(Y),$=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:"",passwordConfirmation:"",email:"",user:{}},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.state.password===n.state.passwordConfirmation?n.props.signUp(n.state.username,n.state.password,n.state.email).then(function(e){return n.setState({user:e})}):alert("Passwords do not match")},n.render=function(){return n.state.user&&n.state.user.token&&(localStorage.token=n.state.user.token,n.props.history.push("/home")),r.a.createElement("div",{className:"LoginPage"},r.a.createElement("div",{className:"form-container sign-up-container"},n.state.user.hasOwnProperty("errors")?r.a.createElement("div",{className:"errors-container"},r.a.createElement("ul",{className:"errors"},n.state.user.errors.map(function(e){return r.a.createElement("li",{className:"error"},e)}))):null,r.a.createElement("form",{className:"signupForm",onSubmit:n.handleSubmit},r.a.createElement("h1",null,"Create Account"),r.a.createElement("input",{className:"signupInput",type:"text",placeholder:"Username",value:n.state.username,onChange:n.handleChange,name:"username"}),r.a.createElement("input",{className:"signupInput",type:"text",placeholder:"Email",value:n.state.email,onChange:n.handleChange,name:"email"}),r.a.createElement("input",{className:"signupInput",type:"password",placeholder:"Password",value:n.state.password,onChange:n.handleChange,name:"password"}),r.a.createElement("input",{className:"signupInput",type:"password",placeholder:"Confirm Password",value:n.state.passwordConfirmation,onChange:n.handleChange,name:"passwordConfirmation"}),r.a.createElement("input",{className:"signupSubmit",type:"submit",value:"Sign up"}))),r.a.createElement("div",{className:"overlay-container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlay-panel overlay-right"},r.a.createElement("h1",null,"Welcome Back!"),r.a.createElement("p",null,"To keep connected with us please login with your personal info"),r.a.createElement(b.c,{to:"/"},r.a.createElement("button",{className:"ghost",id:"signIn"},"Sign In"))))))},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){localStorage.token&&this.props.hasOwnProperty("history")&&this.props.history.push("/home")}}]),t}(r.a.Component),K={signUp:function(e,t,n){return function(a){return a({type:"SIGNUP_REQUEST_START"}),fetch("http://furbook-api.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:e,password:t,email:n})}).then(function(e){return e.json()})}},logIn:f},Z=Object(d.b)(function(e){return{user:e.currentUser}},K)($),ee=n(23),te=n.n(ee),ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={photoFile:null},n.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("photo[user_id]",n.props.user.id),t.append("photo[picture]",n.state.photoFile),te()({method:"POST",url:"http://furbook-api.herokuapp.com/photos",data:t,config:{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.token)}}}).then(function(){return window.location.reload(!1)})},n.handleFile=function(e){n.setState({photoFile:e.currentTarget.files[0]})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Upload a new photo",r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"file",onChange:this.handleFile}),r.a.createElement("button",{className:"upload-button"},"Upload Photo ")))}}]),t}(r.a.Component),ae=Object(d.b)(function(e){return{user:e.currentUser}})(ne),re=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={proPicFile:null},n.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("pro_pic[user_id]",n.props.user.id),t.append("pro_pic[picture]",n.state.proPicFile),te()({method:"POST",url:"http://furbook-api.herokuapp.com/pro_pics",data:t,config:{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(localStorage.token)}}}).then(function(){return window.location.reload(!1)})},n.handleFile=function(e){n.setState({proPicFile:e.currentTarget.files[0]})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"uplaod-form"},"Upload a new profile picture",r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"file",onChange:this.handleFile}),r.a.createElement("button",{className:"upload-button"},"Upload Photo ")))}}]),t}(r.a.Component),oe=Object(d.b)(function(e){return{user:e.currentUser}})(re),se=function(e,t,n){return function(a){fetch("http://furbook-api.herokuapp.com/messages",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token},body:JSON.stringify({user_id:t,friendship_id:n,content:e})}).then(function(e){return e.json()}).then(function(e){a({type:"CREATE_MESSAGE",payload:e})})}},ce=function(){return function(e){fetch("http://furbook-api.herokuapp.com/messages",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_MY_MESSAGES",payload:t})})}},ie=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={clicked:!1},n.enlarge=function(){n.setState({clicked:!n.state.clicked})},n.render=function(){return r.a.createElement("div",null,n.state.clicked?r.a.createElement("div",{className:"pic-modal"},r.a.createElement("button",{onClick:n.enlarge,className:"closePic"},"X"),r.a.createElement("img",{className:"modal-profile-photo",src:n.props.photo.picture.url})):null,"mp4"===n.props.photo.picture.url.split(".").slice(-1)[0]||"mov"===n.props.photo.picture.url.split(".").slice(-1)[0]?r.a.createElement("video",null," src=",n.props.photo.picture.url," "):r.a.createElement("img",{onClick:n.enlarge,className:"profile-photo",src:n.props.photo.picture.url}))},n}return Object(p.a)(t,e),t}(r.a.Component),le=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"profile-photos"},n.props.photos.map(function(e){return r.a.createElement(ie,{photo:e})}))},n}return Object(p.a)(t,e),t}(r.a.Component),pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={commentsClicked:!1,commentsLength:0},n.handleCommentsClick=function(e){e.target.parentElement.parentElement.parentElement.parentElement;n.setState({commentsClicked:!n.state.commentsClicked})},n.commentsLength=function(e){n.setState({commentsLength:e})},n.render=function(){var e=n.props.comments.filter(function(e){return e.post_id===n.props.post.id}),t=new Date(n.props.post.created_at);return t=(t=(t=t.toString()).split(" "))[0]+" "+t[1]+" "+t[2]+" "+t[3],void 0===n.state.postUser?null:r.a.createElement("div",{className:"post-content"},r.a.createElement("div",{className:"profile-post-div"},r.a.createElement("div",{className:"icon-date"},r.a.createElement("div",{className:"icon-img-text"},r.a.createElement(b.c,{className:"profile-post-link ",to:"/users/".concat(n.state.postUser.id)},r.a.createElement("div",{className:"icon-img-text"},n.state.postUser.pro_pics.length?r.a.createElement("img",{className:"icon-img",src:n.state.postUser.pro_pics.slice(-1)[0].picture.url}):r.a.createElement("img",{className:"icon-img",src:"https://image.flaticon.com/icons/png/512/17/17479.png"}),r.a.createElement("div",{className:"icon"},n.state.postUser.username)))),r.a.createElement("div",{className:"date"},t.toString())),r.a.createElement("div",{className:"content"},n.props.post.content),n.state.commentsClicked?r.a.createElement("div",{className:"comments-container"},r.a.createElement("a",{className:"comment-tag",onClick:function(e){return n.handleCommentsClick(e)}},"comments (",e.length,")"),r.a.createElement(_,{commentsLength:n.commentsLength,postComments:n.props.comments,info:n.props.post})):r.a.createElement("a",{className:"comment-tag",onClick:n.handleCommentsClick},"comments (",e.length,")"),r.a.createElement("div",{className:"createComment"},r.a.createElement(N,{postInfo:n.props.post}))))},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getComments(),fetch("http://furbook-api.herokuapp.com/users/".concat(this.props.post.user_id),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(t){return e.setState({postUser:t})})}}]),t}(r.a.Component),ue={getComments:C},me=Object(d.b)(function(e){return{user:e.currentUser,comments:e.commentReducer.comments}},ue)(pe),de=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"profile-posts"},n.props.user.reverse_posts.map(function(e){return r.a.createElement(me,{post:e,user:n.props.user})}))},n}return Object(p.a)(t,e),t}(r.a.Component),he=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"profile-modal-content"},r.a.createElement("h3",{className:"profile-close",onClick:function(){return n.props.handleCloseIcon()}},"x"),r.a.createElement(oe,null))},n}return Object(p.a)(t,e),t}(r.a.Component),fe=g(Object(d.b)(function(e){return{comments:e.commentReducer.comments,user:e.currentUser,posts:e.postReducer.posts}})(Object(u.f)(he))),ge=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={bioContent:""},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),fetch("http://furbook-api.herokuapp.com/users/".concat(n.props.profileUser.id),{method:"PATCH",headers:{Authorization:localStorage.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({bio:n.state.bioContent})})},n.render=function(){return r.a.createElement("div",{className:"profile-modal-content"},r.a.createElement("h3",{className:"profile-close",onClick:function(){return n.props.handleEditProfile()}},"x"),r.a.createElement("form",{className:"bioForm",onSubmit:n.handleSubmit},r.a.createElement("div",{className:"bioInputs"},r.a.createElement("textarea",{className:"bioInput",type:"text",placeholder:n.props.profileUser.bio,value:n.state.bioContent,onChange:n.handleChange,name:"bioContent"}),r.a.createElement("input",{className:"bioSubmit",type:"submit",value:"Change"}))))},n}return Object(p.a)(t,e),t}(r.a.Component),be=(g(Object(d.b)(function(e){return{user:e.currentUser}})(Object(u.f)(ge))),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={iconClicked:!1,editProfileClicked:!1},n.componentDidMount=function(){!localStorage.token&&n.props.hasOwnProperty("history")&&n.props.history.push("/"),n.props.getUserById(n.props.location.pathname.split("/")[2]),n.setState({pathname:n.props.location.pathname})},n.uploadedPhoto=function(){n.setState({editProfileClicked:!0})},n.handleIconClick=function(){n.props.user.id===parseInt(n.props.location.pathname.split("/")[2])&&n.setState({iconClicked:!0})},n.handleCloseIcon=function(){n.setState({iconClicked:!1})},n.handleFriendRequest=function(){fetch("http://furbook-api.herokuapp.com/friendships",{method:"POST",headers:{Authorization:localStorage.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:n.props.user.id,friend_user_id:n.props.profileUser.id})}).then(function(e){return e.json()}).then(n.setState({friendRequestSent:!0}))},n.handleAccept=function(){var e=n.props.user.pending_friend_requests.find(function(e){return e.user.id===n.props.profileUser.id});fetch("http://furbook-api.herokuapp.com/friendships/".concat(e.id),{method:"PATCH",headers:{Authorization:localStorage.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({pending:!1})}).then(n.setState({acceptedRequest:!0}))},n.handleUnfriend=function(){var e=n.props.profileUser.friends.find(function(e){return parseInt(e.user.id)===parseInt(n.props.user.id)}).id;fetch("http://furbook-api.herokuapp.com/friendships/".concat(e),{method:"DELETE",headers:{Authorization:localStorage.token,"Content-Type":"application/json",Accept:"application/json"}}).then(n.setState({unfriended:!0})).then(window.location.reload())},n.handleEditProfile=function(){n.setState({editProfileClicked:!n.state.editProfileClicked})},n.render=function(){return Object.keys(n.props.profileUser).length&&n.props.user.id?(n.props.location.pathname!==n.state.pathname&&(n.setState({pathname:n.props.location.pathname}),window.location.reload()),console.log(n.props),"Not Found"===n.props.profileUser.error&&(n.props.history.push("/home"),window.location.reload()),r.a.createElement("div",{className:"/profile"},r.a.createElement("div",{className:"ProfilePage"},n.state.iconClicked?r.a.createElement("div",{className:"profile-modal"},r.a.createElement(fe,{handleCloseIcon:n.handleCloseIcon})):null,r.a.createElement("h1",{className:"Hi"}," ",n.props.profileUser.username?"".concat(n.props.profileUser.username,"'s page"):"Getting your profile..."),r.a.createElement("div",{className:"profile-icon-friend-options"},r.a.createElement("div",{className:"profile-icon-div"},n.props.profileUser.pro_pics.length?r.a.createElement("img",{onClick:n.handleIconClick,className:"profile-icon",src:n.props.profileUser.pro_pics.slice(-1)[0].picture.url}):r.a.createElement("img",{onClick:n.handleIconClick,className:"profile-icon",src:"https://image.flaticon.com/icons/png/512/17/17479.png"}),r.a.createElement("h2",{className:"profile-username"},n.props.profileUser.username)),r.a.createElement("div",{className:"friend-options"},n.props.user.id===parseInt(n.props.location.pathname.split("/")[2])?null:n.props.profileUser.friends.find(function(e){return e.user.id===n.props.user.id})||n.state.acceptedRequest||n.state.unfriended?r.a.createElement("button",{onClick:n.handleUnfriend,className:"unfriend"},"Unfriend"):n.props.profileUser.pending_friend_requests.find(function(e){return e.user.id===n.props.user.id})||n.state.friendRequestSent?r.a.createElement("a",{className:"request-pending"},"Request Pending"):n.props.user.pending_friend_requests.find(function(e){return e.user.id===n.props.profileUser.id})?r.a.createElement("button",{onClick:n.handleAccept,className:"accept-request"}," Accept their Request "):r.a.createElement("button",{onClick:n.handleFriendRequest,className:"friend-request"},"Friend Request"))),r.a.createElement("div",{className:"posts-photos-div"},n.props.profileUser.posts.length?r.a.createElement("div",{className:"profile-posts-container"},r.a.createElement("h2",null," Posts"),r.a.createElement(de,{user:n.props.profileUser})):r.a.createElement("h2",{className:"no-posts-to-show"},"No posts to show..."),n.props.profileUser.photos.length?r.a.createElement("div",{className:"profile-photos"},r.a.createElement("h2",null," Photos"),n.props.user.id===parseInt(n.props.location.pathname.split("/")[2])?r.a.createElement(ae,{uploadedPhoto:n.uploadedPhoto,userInfo:n.props.userInfo}):null,r.a.createElement(le,{photos:n.props.profileUser.photos})):r.a.createElement("div",{className:"profile-photos"},r.a.createElement("h2",{className:"no-photos-to-show"},"No photos to show..."),n.props.user.id===parseInt(n.props.location.pathname.split("/")[2])?r.a.createElement(ae,{uploadedPhoto:n.uploadedPhoto,userInfo:n.props.userInfo}):null))))):null},n}return Object(p.a)(t,e),t}(r.a.Component)),Ee={getUserById:E,createMessage:se},Oe={LoginPage:V,SignupPage:Z,ProfilePage:g(Object(d.b)(function(e){return{user:e.currentUser,profileUser:e.usersReducer.user}},Ee)(Object(u.f)(be)))},ve=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={messageContent:""},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.dispatch(se(n.state.messageContent,n.props.user.id,n.props.messageInfo.friendship_id)),n.setState({messageContent:""})},n.render=function(){return r.a.createElement("form",{className:"messageForm",onSubmit:n.handleSubmit},r.a.createElement("div",{className:"messageInputs"},r.a.createElement("textarea",{className:"messageInput",type:"text",placeholder:"Write a message...",value:n.state.messageContent,onChange:n.handleChange,name:"messageContent"}),r.a.createElement("input",{className:"messageSubmit",type:"submit",value:"Send"})))},n}return Object(p.a)(t,e),t}(r.a.Component),je=g(Object(d.b)(function(e){return{user:e.currentUser}})(Object(u.f)(ve))),ye=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={info:{}},n.render=function(){return Object.keys(n.state.info).length?n.state.info.messageInfo.friendship.id!==n.props.friendship_id?null:(console.log(n.props),r.a.createElement("li",{className:"message-content views"},r.a.createElement("div",{className:"message-content comment-div"},n.state.info.messageInfo.user.id!==n.props.user.id?r.a.createElement("div",{className:"friend-message-text"},n.state.info.messageInfo.content):r.a.createElement("div",{className:"user-message-text"},n.state.info.messageInfo.content)))):null},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.messageInfo.user_id===this.props.user.id?(this.setState({info:this.props}),this.setState({friend:!1})):(this.setState({info:this.props}),this.setState({friend:!0}))}},{key:"componentDidUpdate",value:function(){var e=document.querySelector(".dm-container");e&&(e.scrollTop=e.scrollHeight)}}]),t}(r.a.Component),Ce=Object(d.b)(function(e){return{user:e.currentUser}})(ye),Se=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).handleOpenMessages=function(e){n.props.openMessage(n.props.messageInfo.friendship_id),e.forEach(function(e){return n.props.updateMessage(e)})},n.handleCloseMessages=function(){n.props.closeMessage(),n.props.getMessages()},n.messageCreated=function(){},n.render=function(){console.log(n.props);var e=n.props.messages.filter(function(e){return!e.viewed&&e.user.id===n.props.messageInfo.friend.id}),t=n.props.messages.sort(function(e,t){return e.id-t.id});return r.a.createElement("div",{className:"chat-container"},n.props.openedMessage===n.props.messageInfo.friendship_id?r.a.createElement("div",{className:"chat"},r.a.createElement("div",{className:"top-chat"},r.a.createElement("a",{onClick:n.handleCloseMessages,className:"close x-out"},"x")),r.a.createElement("div",{className:"message-friend-name"},n.props.messageInfo.friend.username),r.a.createElement("div",{className:"dm-container"},t.map(function(e){return r.a.createElement(Ce,{messageInfo:e,friendship_id:n.props.messageInfo.friendship_id,friend:n.props.messageInfo.friend})})),r.a.createElement("div",null,r.a.createElement(je,{messageInfo:n.props.messageInfo,messageCreated:n.messageCreated}))):r.a.createElement("div",{onClick:function(){return n.handleOpenMessages(e)},className:"message-friend"},n.props.messageInfo.friend.username," (",e.length,")"))},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.getMessages()}}]),t}(r.a.Component),Ne={getMessages:ce,viewedMessage:function(e){return function(t){fetch("http://furbook-api.herokuapp.com/messages/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.token},body:JSON.stringify({viewed:!0})}).then(function(e){return e.json()}).then(console.log)}}},ke=g(Object(d.b)(function(e){return{user:e.currentUser,messages:e.messageReducer.messages}},Ne)(Object(u.f)(Se))),we=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={openedMessage:0},n.openMessage=function(e){n.setState({openedMessage:e})},n.closeMessage=function(){n.setState({openedMessage:0})},n.render=function(){return r.a.createElement("div",{className:"message-friends"},n.props.messagesInfo.map(function(e){return r.a.createElement(ke,{closeMessage:n.closeMessage,openMessage:n.openMessage,openedMessage:n.state.openedMessage,updateMessage:n.props.updateMessage,messageInfo:e})}))},n}return Object(p.a)(t,e),t}(r.a.Component),_e=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement("div",{className:"messages-container-modal"},r.a.createElement("div",{onClick:function(){return n.props.handleClose()},className:"your-dms"},r.a.createElement("a",null,"Messages"),r.a.createElement("a",{className:"closeout"},"\u2013")),r.a.createElement(we,{friends:n.props.friends,updateMessage:n.props.updateMessage,messagesInfo:n.props.messagesInfo}))},n}return Object(p.a)(t,e),t}(r.a.Component),Pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},n.handleOpen=function(){n.setState({open:!0}),n.props.getMessages()},n.handleClose=function(){n.setState({open:!1}),n.props.getMessages()},n.updateMessage=function(e){fetch("http://furbook-api.herokuapp.com/messages/".concat(e.id),{method:"PATCH",headers:{Authorization:localStorage.token,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({viewed:!0})})},n.render=function(){if(!n.props.user.id)return null;if(!n.props.user.friends.length)return null;var e=n.props.user.messages_info.map(function(e){return e.messages}).flat().filter(function(e){return!e.viewed&&e.user_id!==n.props.user.id});return r.a.createElement("div",{className:"message-setup"},n.state.open?r.a.createElement("div",{className:"messages-modal"},r.a.createElement(_e,{updateMessage:n.updateMessage,friends:n.props.user.friends,handleClose:n.handleClose,messagesInfo:n.props.user.messages_info})):null,r.a.createElement("div",{className:"message-menu"},r.a.createElement("a",{onClick:n.handleOpen,className:"messages-header"},"messages (",e.length,")")))},n}return Object(p.a)(t,e),t}(r.a.Component),Ue={setCurrentUser:h,getMessages:ce},Te=g(Object(d.b)(function(e){return{user:e.currentUser}},Ue)(Object(u.f)(Pe))),Ae=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return r.a.createElement(b.b,{basename:"/"},r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement(Te,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/signup",component:Oe.SignupPage}),r.a.createElement(u.a,{exect:!0,path:"/home",render:function(e){return r.a.createElement(x,Object.assign({},e,{component:x}))}}),r.a.createElement(u.a,{exact:!0,path:"/users/:id",component:Oe.ProfilePage}),r.a.createElement(u.a,{path:"/",component:Oe.LoginPage}))))},n}return Object(p.a)(t,e),t}(r.a.Component),Ie=Object(d.b)(function(e){return{user:e.currentUser}})(Ae),Me=n(17);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xe={id:null,username:"",loading:!1},Fe=n(19);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ze={posts:[]};function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Je={comments:[]};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var We={users:[],user:{}};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ve={messages:[]},$e=Object(Me.c)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST_START":return De({},e,{loading:!0});case"GET_PROFILE_REQUEST_SUCCESS":case"LOGIN_REQUEST_SUCCESS":return De({},t.user,{loading:!1});case"LOGIN_REQUEST_FAILURE":return De({},e,{loading:!1});case"LOGOUT":return xe;default:return e}},loggedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST_SUCCESS":return!0;default:return e}},postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MY_POSTS":return qe({},e,{posts:t.payload});case"CREATE_POST":return{posts:[t.payload].concat(Object(Fe.a)(e.posts))};case"FETCH_MY_POST":return qe({},e,{post:t.payload});default:return e}},commentReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COMMENT":return Ge({},e,{comments:[].concat(Object(Fe.a)(e.comments),[t.payload])});case"FETCH_MY_COMMENTS":return Ge({},e,{comments:t.payload});default:return e}},usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return Be({},e,{users:t.payload});case"FETCH_USER":return Be({},e,{user:t.payload});default:return e}},messageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE":return Xe({},e,{messages:[].concat(Object(Fe.a)(e.messages),[t.payload])});case"FETCH_MY_MESSAGES":return Xe({},e,{messages:t.payload});case"VIEWED_MESSAGE":return Xe({},e,{messages:[].concat(Object(Fe.a)(e.messages),[t.payload])});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=n(40),Ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Me.d,et=Object(Me.e)($e,Ze(Object(Me.a)(Ke.a)));s.a.render(r.a.createElement(d.a,{store:et},r.a.createElement(b.a,null,r.a.createElement(Ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.feb6f443.chunk.js.map